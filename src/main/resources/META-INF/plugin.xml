<idea-plugin>
    <id>com.zeks.JavaCupcake</id>

    <name>JavaCupcake</name>

    <vendor>Zeks</vendor>

    <description><![CDATA[
        This plugin introduces support for Java CUP (version 10j)
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType
            name="Cup File"
            implementationClass="com.zeks.javacupcake.lang.file.CupFileType"
            fieldName="INSTANCE"
            language="Cup"
            extensions="cup"/>
        <lang.parserDefinition
            language="Cup"
            implementationClass="com.zeks.javacupcake.lang.parser.CupParserDefinition"/>
        <lang.syntaxHighlighterFactory
            language="Cup"
            implementationClass="com.zeks.javacupcake.highlighting.CupSyntaxHighlighterFactory"/>
        <annotator
            language="Cup"
            implementationClass="com.zeks.javacupcake.annotation.CupAnnotator"/>
        <completion.contributor
            language="Cup"
            implementationClass="com.zeks.javacupcake.completion.CupCompletionContributor"/>
        <inspectionToolProvider
            implementation="com.zeks.javacupcake.inspection.CupInspectionProvider"/>
        <psi.referenceContributor
            language="Cup"
            implementation="com.zeks.javacupcake.references.CupReferenceContributor"/>
        <referencesSearch
            implementation="com.zeks.javacupcake.references.CupReferenceSearcher"/>
        <gotoDeclarationHandler
            implementation="com.zeks.javacupcake.gotodeclaration.CupGoToDeclarationHandler"/>
        <findUsagesHandlerFactory
            implementation="com.zeks.javacupcake.usage.CupFindUsagesHandlerFactory"/>
        <usageTypeProvider
            implementation="com.zeks.javacupcake.usage.CupUsageTypeProvider"/>
        <lang.findUsagesProvider
            language="Cup"
            implementationClass="com.zeks.javacupcake.usage.CupFindUsagesProvider"/>
        <lang.namesValidator
            language="Cup"
            implementationClass="com.zeks.javacupcake.refactoring.CupNamesValidator"/>
        <lang.elementManipulator
            forClass="com.zeks.javacupcake.lang.psi.CupSymbolElement"
            implementationClass="com.zeks.javacupcake.lang.manipulators.CupSymbolManipulator"/>
        <lang.braceMatcher
            language="Cup"
            implementationClass="com.zeks.javacupcake.lang.braces.CupBraceMatcher"/>
        <typedHandler
            implementation="com.zeks.javacupcake.editor.typing.CupTypedHandler"/>
        <codeInsight.lineMarkerProvider
            language="Cup"
            implementationClass="com.zeks.javacupcake.linemarker.CupLineMarker"/>
        <lang.formatter
            language="Cup"
            implementationClass="com.zeks.javacupcake.formatter.CupFormattingModelBuilder"/>
        <codeStyleSettingsProvider implementation="com.zeks.javacupcake.formatter.CupCodeStyleSettingsProvider"/>
        <langCodeStyleSettingsProvider implementation="com.zeks.javacupcake.formatter.CupLanguageCodeStyleSettingsProvider"/>

        <defaultLiveTemplates file="/liveTemplates/Cup.xml"/>
        <liveTemplateContext contextId="CUP" implementation="com.zeks.javacupcake.livetemplates.Generic"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_ACTION_CODE" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelActionCode"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_PARSER_CODE" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelParserCode"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_SCAN_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelScanWith"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_INIT_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelInitWith"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_START_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelStartWith"/>

        <multiHostInjector implementation="com.zeks.javacupcake.injection.CupInjector" id="CupInjector"/>
    </extensions>
</idea-plugin>