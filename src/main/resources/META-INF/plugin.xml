<idea-plugin>
    <id>com.zeks.JavaCupcake</id>

    <name>JavaCupcake</name>

    <vendor>Zeks</vendor>

    <description><![CDATA[
        This plugin introduces support for Java CUP (version 10j)
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType
            name="Cup File"
            implementationClass="com.zeks.javacupcake.lang.file.CupFileType"
            fieldName="INSTANCE"
            language="Cup"
            extensions="cup"/>

        <lang.parserDefinition language="Cup" implementationClass="com.zeks.javacupcake.lang.parser.CupParserDefinition"/>
        <lang.syntaxHighlighterFactory language="Cup" implementationClass="com.zeks.javacupcake.highlighting.CupSyntaxHighlighterFactory"/>
        <lang.findUsagesProvider language="Cup" implementationClass="com.zeks.javacupcake.usage.CupFindUsagesProvider"/>
        <lang.namesValidator language="Cup" implementationClass="com.zeks.javacupcake.refactoring.CupNamesValidator"/>
        <lang.elementManipulator forClass="com.zeks.javacupcake.lang.psi.CupSymbolElement" implementationClass="com.zeks.javacupcake.lang.manipulators.CupSymbolManipulator"/>

        <lang.formatter language="Cup" implementationClass="com.zeks.javacupcake.formatter.CupFormattingModelBuilder"/>
        <langCodeStyleSettingsProvider implementation="com.zeks.javacupcake.formatter.CupLanguageCodeStyleSettingsProvider"/>
        <codeStyleSettingsProvider implementation="com.zeks.javacupcake.formatter.CupCodeStyleSettingsProvider"/>
        <annotator language="Cup" implementationClass="com.zeks.javacupcake.annotation.CupAnnotator"/>
        <lang.braceMatcher language="Cup" implementationClass="com.zeks.javacupcake.lang.braces.CupBraceMatcher"/>
        <typedHandler implementation="com.zeks.javacupcake.editor.typing.CupTypedHandler"/>

        <psi.referenceContributor language="Cup" implementation="com.zeks.javacupcake.references.CupReferenceContributor"/>
        <referencesSearch implementation="com.zeks.javacupcake.references.CupReferenceSearcher"/>
        <findUsagesHandlerFactory implementation="com.zeks.javacupcake.usage.CupFindUsagesHandlerFactory"/>
        <usageTypeProvider implementation="com.zeks.javacupcake.usage.CupUsageTypeProvider"/>
        <completion.contributor language="Cup" implementationClass="com.zeks.javacupcake.completion.CupCompletionContributor"/>
        <codeInsight.lineMarkerProvider language="Cup" implementationClass="com.zeks.javacupcake.linemarker.CupLineMarker"/>
        <gotoDeclarationHandler implementation="com.zeks.javacupcake.gotodeclaration.CupGoToDeclarationHandler"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupRedundantSemicolonInspection"
                         enabledByDefault="true"
                         level="WEAK WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.redundant_semicolon.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupMissingPackageInspection"
                         enabledByDefault="true"
                         level="WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.missing_package.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupUnusedSymbolInspection"
                         enabledByDefault="true"
                         level="WEAK WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.unused_symbol.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupShadowNameInspection"
                         enabledByDefault="true"
                         level="WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.shadow_name.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupUndeclaredSymbolInspection"
                         enabledByDefault="true"
                         level="WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.undeclared_symbol.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupSymbolMisuseInspection"
                         enabledByDefault="true"
                         level="ERROR"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.symbol_misuse.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupLineOrderInspection"
                         enabledByDefault="true"
                         level="ERROR"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.line_order.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupDuplicateElementsInspection"
                         enabledByDefault="true"
                         level="ERROR"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.duplicate_elements.display.name" bundle="messages.CupBundle"/>

        <localInspection implementationClass="com.zeks.javacupcake.inspection.CupClassNameInspection"
                         enabledByDefault="true"
                         level="WARNING"
                         groupBundle="messages.CupBundle" groupKey="group.names.cup"
                         language="Cup"
                         key="inspection.class_name.display.name" bundle="messages.CupBundle"/>

        <defaultLiveTemplates file="/liveTemplates/Cup.xml"/>
        <liveTemplateContext contextId="CUP" implementation="com.zeks.javacupcake.livetemplates.Generic"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_ACTION_CODE" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelActionCode"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_PARSER_CODE" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelParserCode"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_SCAN_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelScanWith"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_INIT_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelInitWith"/>
        <liveTemplateContext contextId="CUP_TOPLEVEL_START_WITH" baseContextId="CUP" implementation="com.zeks.javacupcake.livetemplates.TopLevelStartWith"/>

        <multiHostInjector implementation="com.zeks.javacupcake.injection.CupInjector" id="CupInjector"/>
    </extensions>
</idea-plugin>